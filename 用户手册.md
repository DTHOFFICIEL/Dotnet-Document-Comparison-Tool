# 文档对比器 - 完整用户手册

## 📚 目录

1. [快速入门](#快速入门)
2. [核心功能详解](#核心功能详解)
3. [文件格式支持](#文件格式支持)
4. [高亮模式说明](#高亮模式说明)
5. [使用技巧](#使用技巧)
6. [实际应用场景](#实际应用场景)
7. [常见问题](#常见问题)

---

## 🎯 快速入门

### 第一次使用

1. 启动程序后，你会看到一个左右分栏的界面
2. 上方有四个按钮和两个功能选项：
   - **加载左侧文档** - 加载第一个要对比的文件
   - **加载右侧文档** - 加载第二个要对比的文件
   - **开始对比** - 执行对比操作
   - **清除** - 清空所有内容
   - **高亮模式** - 选择三种显示模式之一
   - **忽略标点符号差异** - 可选的标点过滤功能

### 5分钟快速体验

**方式一：使用示例文件**
```
1. 点击"加载左侧文档" → 选择 ExampleAssets/sample1.txt
2. 点击"加载右侧文档" → 选择 ExampleAssets/sample2.txt
3. 点击"开始对比"
4. 立即看到彩色高亮的对比结果！
```

**方式二：手动输入**
```
1. 在左侧文本框粘贴：这是一个测试文档。
2. 在右侧文本框粘贴：这是一个测试文件。
3. 点击"开始对比"
4. 看到"文档"和"文件"被精确标记出来！
```

---

## 🌟 核心功能详解

### ✨ 三种高亮模式

#### 1. 🎯 智能高亮（推荐）⭐

**这是最易读的模式！**

##### 视觉效果
```
整行相同：[浅绿色背景] 这一行完全相同
修改的行：[浅黄色背景] 这是[红色删除线]旧内容[/][蓝色下划线]新内容[/]的一行
删除整行：[浅红色背景] 这一行被删除了
插入整行：[浅蓝色背景] 这是新增加的一行
```

##### 颜色方案详解

| 显示效果 | 含义 | 说明 |
|---------|------|------|
| **浅绿色背景** | 整行相同 | 左右两边完全一样，舒适的浅色背景 |
| **浅黄色背景 + 精确标记** | 修改的行 | 整行用黄色背景，具体差异精确标记 |
| 🔴 **红色文字 + 删除线 + 粗体** | 删除的字符 | 这些字符被删除了 |
| 🔵 **蓝色文字 + 下划线 + 粗体** | 插入的字符 | 这些字符是新增的 |
| 🟠 **橙色文字 + 粗体** | 修改的字符 | 这些字符发生了变化 |
| **浅红色背景 + 删除线** | 整行删除 | 这一行在右侧不存在 |
| **浅蓝色背景 + 加粗** | 整行插入 | 这一行是新增的 |
| **浅灰色背景 + 斜体** | 空行占位 | 用于对齐显示 |

##### 适用场景
- ✅ 日常文档对比
- ✅ 长时间阅读
- ✅ 需要快速找出差异
- ✅ **推荐95%的用户使用**

##### 实际示例

**示例1：多处修改**
```
原文：他并非物理学家，无法完全理解这些公式。
修改：他并非物理学者，无法准确理解这些算法。

智能高亮显示：
[浅黄色背景] 他并非物理学[红色删除线]家[/][蓝色下划线]者[/]，无法[红色删除线]完全[/][蓝色下划线]准确[/]理解这些[红色删除线]公式[/][蓝色下划线]算法[/]。
```

一眼就能看出3处变化：
1. 家 → 者
2. 完全 → 准确
3. 公式 → 算法

---

#### 2. 📝 整行高亮

**传统对比工具的风格，简洁清晰**

##### 视觉效果
```
[浅绿色整行] 这一行完全相同
[浅黄色整行] 这一行有修改（但不显示具体哪里）
[浅红色整行带删除线] 这一行被删除了
[浅蓝色整行] 这是新增加的一行
```

##### 特点
- ✅ 整行标记为相同/修改/删除/插入
- ✅ 不显示字符级差异
- ✅ 快速浏览，看大局
- ✅ 颜色温和，不刺眼

##### 适用场景
- ✅ 快速浏览大量内容
- ✅ 只需要知道哪些行有变化
- ✅ 不关心具体哪个字不同
- ✅ 类似 WinMerge 的体验

---

#### 3. ✏️ 字符级高亮

**极度精确的模式**

##### 视觉效果
```
相同的行：[浅绿色整行] 完全相同的内容
修改的行：这是[红底白字粗体]删除字[/][蓝底白字粗体]插入字[/]的一行
```

##### 特点
- ✅ 每个字符都精确标记
- ✅ 相同字符：**无背景色**
- ✅ 不同字符：**鲜艳的背景色**
  - 删除：红色背景 + 删除线
  - 插入：蓝色背景 + 粗体
  - 修改：黄色背景 + 粗体
- ⚠️ 颜色对比强烈

##### 适用场景
- ✅ 需要极度精确的对比
- ✅ 对比代码、配置文件
- ✅ 短时间查看
- ⚠️ 长时间使用可能眼睛疲劳

---

### ⚙️ 标点符号过滤功能

#### 功能说明

在界面上方，你会看到复选框：
```
☑ 忽略标点符号差异（中英文逗号、句号等）
```

**勾选后，对比时会自动将中英文标点符号标准化**

#### 转换规则

| 中文标点 | 转换为 | 说明 |
|---------|--------|------|
| `，` | `,` | 逗号 |
| `。` | `.` | 句号 |
| `；` | `;` | 分号 |
| `：` | `:` | 冒号 |
| `？` | `?` | 问号 |
| `！` | `!` | 感叹号 |
| `'` `'` | `'` | 单引号 |
| `"` `"` | `"` | 双引号 |
| `（` `）` | `(` `)` | 圆括号 |
| `【` `】` | `[` `]` | 方括号 |
| `《` `》` | `<` `>` | 书名号 |
| `、` | `,` | 顿号 |
| `—` | `-` | 破折号 |
| `…` | `.` | 省略号 |

#### 使用示例

**示例1：中英文混排**

**原文A**：`这是一个测试，包含中文标点。`  
**原文B**：`这是一个测试,包含中文标点.`

**不勾选标点过滤**：
- 会显示 `，` 和 `,` 不同
- 会显示 `。` 和 `.` 不同

**勾选标点过滤**：
- 两个文档完全相同（标点已标准化）
- 对比结果全部显示为相同

#### 适用场景

- ✅ 对比中英文混排文档
- ✅ 不同人输入习惯不同
- ✅ 从不同来源复制的文本
- ✅ 专注于实质内容的变化
- ✅ OCR识别结果对比

#### 不适用场景

- ❌ 需要严格对比标点符号的场景
- ❌ 对比代码（标点符号很重要）
- ❌ 对比配置文件（标点符号是语法的一部分）

---

## 📂 文件格式支持

### 1. 纯文本模式 (*.txt / *.*)

**适用场景**：对比普通文本文件，或任何不需要任何处理的文件

**使用方法**：
- 在文件对话框中选择 "纯文本 (*.txt)" 或 "所有文件 (*.*)"
- 文件内容将原封不动地加载

**示例**：对比两个配置文件、日志文件等

---

### 2. Markdown模式 (*.md)

**适用场景**：对比Markdown文档的实际内容，忽略格式标记

**处理内容**：
- ✅ 移除标题标记 (`#`, `##`, `###` 等)
- ✅ 移除粗体/斜体标记 (`**text**`, `*text*`, `__text__`, `_text_`)
- ✅ 移除删除线 (`~~text~~`)
- ✅ 移除代码块 (\`\`\`...```)
- ✅ 移除行内代码标记 (\`code\`)
- ✅ 移除链接格式，保留文本 (`[显示文本](url)` → `显示文本`)
- ✅ 移除图片引用 (`![alt](url)`)
- ✅ 移除列表标记 (`-`, `*`, `1.`)
- ✅ 移除引用标记 (`>`)
- ✅ 移除表格分隔符和格式
- ✅ 移除HTML标签

**使用示例**：
```markdown
原始文本：
# 标题
这是**粗体**和*斜体*，还有[链接](url)。

处理后：
标题
这是粗体和斜体，还有链接。
```

**推荐用途**：
- 对比文档内容的实质性变化
- 忽略格式调整，只关注文字内容
- 对比不同版本的文档修订

---

### 3. Fandom WikiText模式 (*.wiki, *.wikitext)

**适用场景**：对比Wiki页面的纯文本内容，去除所有Wiki语法和HTML标记

**处理内容**：
- ✅ 移除HTML/CSS标签 (`<div>`, `<span>`, `<style>` 等)
- ✅ 移除模板语法 (`{{模板名称|参数}}`)
- ✅ 移除文件引用 (`[[File:...]]`, `[[Image:...]]`)
- ✅ 移除分类标记 (`[[Category:...]]`)
- ✅ 移除内部链接格式 (`[[页面|文本]]` → `文本`)
- ✅ 移除外部链接格式 (`[http://... 文本]` → `文本`)
- ✅ 移除粗体/斜体 (`'''粗体'''`, `''斜体''`)
- ✅ 移除标题标记 (`== 标题 ==`)
- ✅ 移除列表标记 (`*`, `#`, `:`, `;`)
- ✅ 移除表格语法 (`{|`, `|-`, `|}`, `!`, `|`)
- ✅ 移除引用标签 (`<ref>...</ref>`)
- ✅ 移除nowiki标签内容 (`<nowiki>...</nowiki>`)
- ✅ 移除魔术字 (`__NOTOC__`, `__TOC__` 等)

**使用示例**：
```wikitext
原始文本：
== 章节标题 ==
这是'''粗体'''和''斜体''。
[[链接|显示文本]]
{{模板名称}}

处理后：
章节标题
这是粗体和斜体。
显示文本
```

**推荐用途**：
- 对比Wiki页面的内容变化
- 检查文字内容的更新，忽略格式和结构变化
- 跨Wiki平台内容迁移对比

---

## 💡 使用技巧

### 技巧1：选择正确的文件格式

**重要**：在文件对话框中选择正确的文件类型很关键！

- 如果你想对比Markdown文档的**内容**，选择 "Markdown 文件 (*.md)"
- 如果你想对比Markdown文档的**原始格式**，选择 "纯文本 (*.txt)" 或 "所有文件 (*.*)"
- 同样的规则适用于WikiText文件

### 技巧2：测试样本文件

项目包含了多组测试样本，你可以用它们来熟悉功能：

1. **纯文本测试**：
   - 左侧加载 `sample1.txt`
   - 右侧加载 `sample2.txt`

2. **Markdown测试**：
   - 左侧加载 `sample_markdown1.md`（选择Markdown格式）
   - 右侧加载 `sample_markdown2.md`（选择Markdown格式）
   - 对比查看纯文本差异

3. **WikiText测试**：
   - 左侧加载 `sample_wikitext1.wiki`（选择Fandom WikiText格式）
   - 右侧加载 `sample_wikitext2.wiki`（选择Fandom WikiText格式）
   - 查看去除所有Wiki语法后的内容差异

### 技巧3：手动输入快速对比

不一定要加载文件，你可以：
1. 直接在左侧文本框粘贴第一段文本
2. 在右侧文本框粘贴第二段文本
3. 点击"开始对比"
4. 立即看到结果

### 技巧4：灵活切换模式

**不需要重新加载文档！**
1. 加载文档一次
2. 点击"开始对比"
3. 如果不满意，直接换个模式
4. 再点击"开始对比"

### 技巧5：组合使用模式

**最佳实践**：
1. 第一步：整行高亮 - 快速浏览，找出有变化的区域
2. 第二步：智能高亮 - 仔细查看具体变化
3. 第三步：字符级高亮 - 对于特别重要的部分，精确到每个字

### 技巧6：标点过滤的使用时机

**什么时候勾选？**
- ✅ 对比结果中有大量红色/蓝色的标点符号
- ✅ 你知道两个文档只是标点不同
- ✅ 从不同渠道获取的文本（网页、PDF、Word等）

**什么时候不勾选？**
- ❌ 对比代码、配置文件
- ❌ 标点符号是你关心的内容
- ❌ 对比结果很清晰，没必要改

### 技巧7：重复对比

- 修改文本框中的内容后，可以随时再次点击"开始对比"
- 不需要重新加载文件
- 这对于快速测试不同版本很有用

### 技巧8：清除并重新开始

- 如果想从头开始，点击"清除"按钮
- 这会清空左右两个文本框
- 然后可以加载新的文件或输入新的内容

---

## 🎯 推荐使用方式

### 第一次使用

1. 加载你的两个文档
2. **先用"智能高亮"模式**（默认）
3. 点击"开始对比"
4. 查看结果

### 如果看起来很乱

1. **检查是否有大量标点符号差异**
   - 如果是，勾选"忽略标点符号差异"
   - 重新点击"开始对比"

2. **如果还是看不清**
   - 切换到"整行高亮"模式
   - 先看大局，哪些行有变化
   - 然后再切换回"智能高亮"仔细看

3. **如果需要极度精确**
   - 使用"字符级高亮"模式
   - 每个字符都清清楚楚

### 对比中英文混排文档

```
步骤1：勾选"忽略标点符号差异"
步骤2：选择"智能高亮"模式
步骤3：点击"开始对比"
步骤4：享受清晰的对比结果！
```

### 对比Wiki文档

```
步骤1：加载文档时选择"Fandom WikiText"格式
步骤2：勾选"忽略标点符号差异"（Wiki可能有很多格式代码）
步骤3：选择"智能高亮"模式
步骤4：点击"开始对比"
步骤5：查看纯文本内容的差异
```

---

## 🔍 实际应用场景

### 场景1：代码审查
对比两个版本的代码文件，快速找出修改的地方。

**推荐设置**：
- 模式：智能高亮或字符级高亮
- 标点过滤：不勾选

### 场景2：文档版本控制
对比文档的不同版本，了解内容更新情况。

**推荐设置**：
- 模式：智能高亮
- 标点过滤：根据需要勾选

### 场景3：Markdown文档对比
对比两个Markdown文档的实际内容，忽略格式差异。

**推荐设置**：
- 文件格式：选择"Markdown文件 (*.md)"
- 模式：智能高亮
- 标点过滤：根据需要勾选

### 场景4：Wiki内容迁移
将Fandom Wiki内容迁移到其他平台前，对比纯文本内容是否一致。

**推荐设置**：
- 文件格式：选择"Fandom WikiText"
- 模式：智能高亮
- 标点过滤：勾选

### 场景5：翻译校对
对比原文和译文（提取纯文本后），确保翻译完整。

**推荐设置**：
- 模式：整行高亮（快速浏览）或智能高亮（详细检查）
- 标点过滤：根据需要勾选

### 场景6：配置文件对比
对比两个配置文件的差异，快速定位配置变化。

**推荐设置**：
- 文件格式：纯文本
- 模式：智能高亮或字符级高亮
- 标点过滤：不勾选

### 场景7：小说/文章校对

**用途**：对比两个版本的小说章节
```
原版：他看着远方的山峦，心中充满了期待。
修改：他望着远方的群山，内心充满了期待。
```
**智能高亮显示**：立即看出"看着"→"望着"、"山峦"→"群山"、"心中"→"内心"

**推荐设置**：
- 模式：智能高亮
- 标点过滤：根据需要勾选

---

## 🆚 对比其他工具

| 功能 | 本工具 | Beyond Compare | WinMerge | VSCode Diff |
|------|-------|----------------|----------|-------------|
| 字符级高亮 | ✅ 是 | ✅ 是 | ❌ 否 | ⚠️ 部分支持 |
| 智能高亮模式 | ✅ 是 | ❌ 否 | ❌ 否 | ❌ 否 |
| Wiki文本提取 | ✅ 是 | ❌ 否 | ❌ 否 | ❌ 否 |
| Markdown提取 | ✅ 是 | ❌ 否 | ❌ 否 | ❌ 否 |
| 标点符号过滤 | ✅ 是 | ❌ 否 | ❌ 否 | ❌ 否 |
| 免费使用 | ✅ 是 | ❌ 否（收费） | ✅ 是 | ✅ 是 |
| 中文界面 | ✅ 是 | ✅ 是 | ✅ 是 | ⚠️ 英文为主 |
| 便携性 | ✅ 单文件 | ❌ 需安装 | ❌ 需安装 | ❌ 需安装 |

---

## ❓ 常见问题

### Q1: 为什么我的Markdown格式没有被去除？
**A**: 确保在文件对话框中选择了 "Markdown 文件 (*.md)" 选项，而不是 "纯文本" 或 "所有文件"。

### Q2: 我可以对比超大文件吗？
**A**: 可以，但处理速度会随文件大小增加。建议对比的文件每个不超过10MB。

### Q3: 颜色看起来不明显怎么办？
**A**: 新版本已经优化了颜色对比度，确保你使用的是最新版本。你也可以尝试切换不同的高亮模式。

### Q4: 可以导出对比结果吗？
**A**: 当前版本暂不支持导出，你可以直接截图保存结果。

### Q5: 支持其他格式吗？
**A**: 目前支持纯文本、Markdown和WikiText。如需支持其他格式，可以提出需求。

### Q6: 智能高亮和字符级高亮有什么区别？
**A**: 主要是视觉效果不同

**智能高亮**：
- 相同的字：浅色背景，舒适
- 不同的字：鲜明标记，醒目
- **整体协调，易读性高**

**字符级高亮**：
- 相同的字：无背景色
- 不同的字：鲜艳背景色
- **对比强烈，精确度高**

### Q7: 标点过滤会改变我的文档吗？
**A**: **不会！** 只是在对比时临时标准化，不会修改原文件。

- ✅ 原文件完全不动
- ✅ 只在内存中进行转换
- ✅ 下次对比可以不勾选

### Q8: 我应该用哪个模式？
**A**: 大多数情况下用**智能高亮**！

- 📝 日常对比文档 → **智能高亮**
- 🚀 快速浏览 → **整行高亮**
- 🔍 需要极度精确 → **字符级高亮**
- ⚙️ 不确定 → 三个都试试，找最舒服的！

### Q9: 为什么有时候还是看不清？
**A**: 可能是以下原因：

1. **标点符号太多** → 勾选"忽略标点符号差异"
2. **差异太多** → 先用"整行高亮"看大局
3. **文档太长** → 分段对比，一次看少一点
4. **格式代码太多** → 加载时选择正确的格式（Markdown/WikiText）

### Q10: 字符级高亮会不会很慢？
**A**: 对于普通大小的文档（<1MB），几乎是即时的。超大文档可能需要几秒钟。

### Q11: 为什么有些行是整行高亮，有些是字符级？
**A**: 
- 整行插入/删除/相同 → 整行高亮
- 行内部分修改 → 字符级高亮

### Q12: 支持什么字符编码？
**A**: 自动检测，推荐使用 UTF-8 编码的文件。

---

## 🎓 最佳实践

### ✅ 推荐做法

1. **对比前先提取纯文本**
   - 使用对应的格式选项（Markdown/WikiText）
   - 避免格式代码干扰内容对比

2. **关注有颜色的字符**
   - 浅绿色整行 = 跳过，完全相同
   - 有其他颜色 = 仔细查看，找差异

3. **分段对比大文件**
   - 超大文件可能处理较慢
   - 建议分成多个部分分别对比

4. **灵活使用标点过滤**
   - 中英文混排文档建议勾选
   - 代码和配置文件建议不勾选

5. **根据需求选择模式**
   - 快速浏览用整行高亮
   - 详细分析用智能高亮
   - 极度精确用字符级高亮

### ❌ 避免的做法

1. **不要对比二进制文件**
   - 只支持文本文件
   - 二进制文件会显示乱码

2. **不要混用不同编码**
   - 确保两个文件使用相同编码（UTF-8推荐）
   - 编码不同可能导致乱码

3. **不要依赖整行颜色判断**
   - 要看具体哪些字符有颜色
   - 整行颜色只是基本分类

---

## 🎉 总结

### 核心优势

- 🎯 **三种高亮模式**：满足不同需求
- ⚙️ **标点符号过滤**：专注实质内容
- 🌈 **优化的颜色**：舒适不刺眼
- 📝 **格式智能提取**：Markdown/WikiText自动处理
- 💪 **字符级精确**：精确到每个字符的差异
- ⚡ **高效快速**：快速定位差异，节省时间

### 使用建议

1. **默认用智能高亮** - 最佳体验
2. **中英文混排请勾选标点过滤** - 避免干扰
3. **灵活切换模式** - 找到最适合你的
4. **加载时选对格式** - Markdown/WikiText自动去除代码
5. **组合使用不同模式** - 快速浏览+详细分析

---

## 📧 技术支持

如有问题或建议，欢迎反馈issue！

---

**祝你使用愉快！** 🎉

